{% extends 'index.html' %}

{% block content %}
<main class="main">

  <!-- Job Header -->
  <section class="bg-brand-100">
    <div class="container-sm py-5">

      <div class="p-3 d-flex flex-column flex-md-row align-items-center justify-content-between">
        <div class="d-flex align-items-center">
          <img src="{{ MEDIA_URL }}{{ employer.image }}" class="rounded-circle border me-4" width="60">
          <div>
            <h1 class="h4">{{ job.title }}</h1>
            <p class="m-0">{{ employer.company }}</p>
          </div>
        </div>
        <button class="btn btn-primary mt-4 mt-md-0">Apply for Job</button>
      </div>

      <div class="icon-text">

        <div class="icon-text-item">
          <div class="icon icon--md text-center">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
              <path
                d="M20.77,14.72c.07.07.12.15.16.24s.06.19.06.29-.02.2-.06.29-.09.17-.16.24l-4.49,4.49c-.07.07-.15.12-.24.16-.09.04-.19.06-.29.06s-.2-.02-.29-.06-.17-.09-.24-.16l-2.24-2.24c-.07-.07-.12-.15-.16-.24-.04-.09-.06-.19-.06-.29s.02-.2.06-.29c.04-.09.09-.17.16-.24.14-.14.33-.22.53-.22.1,0,.2.02.29.06.09.04.17.09.24.16l1.71,1.72,3.96-3.96c.07-.07.15-.12.24-.16s.19-.06.29-.06.2.02.29.06.17.09.24.16ZM9.77,4.03c.2,0,.39.08.53.22.14.14.22.33.22.53v.75h11.97v-.75c0-.2.08-.39.22-.53.14-.14.33-.22.53-.22s.39.08.53.22c.14.14.22.33.22.53v.75h1.5c.79,0,1.55.32,2.12.88.56.56.88,1.32.88,2.12v16.45c0,.79-.32,1.55-.88,2.12-.56.56-1.32.88-2.12.88H7.53c-.79,0-1.55-.32-2.12-.88-.56-.56-.88-1.32-.88-2.12V8.52c0-.79.32-1.55.88-2.12.56-.56,1.32-.88,2.12-.88h1.5v-.75c0-.2.08-.39.22-.53.14-.14.33-.22.53-.22ZM6.03,10.02v14.96c0,.4.16.78.44,1.06.28.28.66.44,1.06.44h17.95c.4,0,.78-.16,1.06-.44.28-.28.44-.66.44-1.06v-14.96H6.03Z" />
            </svg>
          </div>
          <p class="text-center">
            <span class="h5">Job Posted</span><br>
            <span>{{ job.created_at|date:"d M Y" }}</span>
          </p>
        </div>

        <div class="icon-text-item">
          <div class="icon icon--md text-center">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
              <path
                d="M9.97,20.45c.06-.09.15-.16.25-.2.1-.05.2-.07.31-.07h3.47c.18,0,.36.07.49.2s.2.31.2.49-.07.36-.2.49-.31.2-.49.2h-3.13l-3.13,4.17h18.07l-3.13-4.17h-3.13c-.18,0-.36-.07-.49-.2s-.2-.31-.2-.49.07-.36.2-.49.31-.2.49-.2h3.47c.11,0,.21.03.31.07.1.05.18.12.25.2l4.17,5.56c.08.1.12.23.14.35.01.13-.01.26-.07.37-.06.12-.15.21-.26.28-.11.07-.24.1-.37.1H6.36c-.13,0-.26-.04-.37-.1-.11-.07-.2-.16-.26-.28-.06-.12-.08-.24-.07-.37.01-.13.06-.25.14-.35l4.17-5.56ZM16.78,6.27c-.55,0-1.09.11-1.6.32-.51.21-.97.52-1.35.9-.39.39-.69.85-.9,1.35-.21.51-.32,1.05-.32,1.6s.11,1.09.32,1.6c.21.51.52.97.9,1.35.39.39.85.69,1.35.9.51.21,1.05.32,1.6.32,1.11,0,2.17-.44,2.95-1.22.78-.78,1.22-1.84,1.22-2.95s-.44-2.17-1.22-2.95c-.78-.78-1.84-1.22-2.95-1.22ZM11.22,10.44c0-1.07.31-2.12.89-3.02.58-.9,1.41-1.61,2.38-2.05.98-.44,2.06-.59,3.11-.43,1.06.16,2.05.62,2.85,1.33.8.71,1.38,1.63,1.67,2.66.29,1.03.28,2.12-.04,3.14-.31,1.02-.92,1.93-1.74,2.62-.82.69-1.82,1.13-2.88,1.26v7.69c0,.18-.07.36-.2.49s-.31.2-.49.2-.36-.07-.49-.2-.2-.31-.2-.49v-7.69c-1.34-.17-2.58-.82-3.48-1.84-.9-1.02-1.39-2.32-1.39-3.68Z" />
            </svg>
          </div>
          <p class="text-center">
            <span class="h5">Location</span><br>
            <span>{{ employer.city }}</span>
          </p>
        </div>

        <div class="icon-text-item">
          <div class="icon icon--md text-center">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
              <path
                d="M17.25,5.86c-.25-.02-.5-.03-.75-.03v-1.45c.29,0,.57.01.86.03l-.11,1.45ZM20.16,6.52c-.47-.18-.94-.32-1.43-.43l.32-1.42c.56.12,1.1.29,1.63.5l-.52,1.35ZM22.15,7.55c-.21-.14-.42-.27-.64-.39l.72-1.26c.5.28.97.6,1.42.95l-.89,1.15c-.2-.15-.4-.3-.61-.44h0ZM24.81,10.15c-.29-.41-.6-.79-.95-1.16l1.05-1c.39.42.75.86,1.08,1.32l-1.19.84ZM25.89,12.11c-.1-.23-.2-.46-.31-.68l1.3-.65c.26.51.47,1.04.65,1.58l-1.38.45c-.08-.24-.16-.47-.26-.7ZM26.66,15.75c-.01-.5-.06-1-.15-1.49l1.43-.25c.1.56.15,1.13.17,1.7l-1.45.04ZM26.47,17.98c.05-.25.09-.49.12-.74l1.44.18c-.07.57-.18,1.13-.33,1.68l-1.4-.39c.07-.24.12-.48.17-.73ZM25.09,21.44c.27-.42.5-.86.71-1.32l1.33.59c-.23.52-.5,1.03-.81,1.51l-1.23-.78ZM23.69,23.19c.18-.18.35-.36.51-.55l1.1.95c-.19.22-.38.43-.58.63l-1.03-1.03ZM16.5,5.84c-1.67,0-3.32.41-4.79,1.2-1.47.79-2.73,1.93-3.66,3.32-.93,1.39-1.5,2.99-1.66,4.65-.16,1.66.09,3.34.72,4.89.64,1.54,1.65,2.91,2.94,3.97,1.29,1.06,2.83,1.79,4.46,2.11s3.33.24,4.93-.24c1.6-.49,3.05-1.36,4.24-2.54l1.03,1.03c-1.35,1.35-3.01,2.35-4.84,2.9-1.83.55-3.77.65-5.64.28-1.87-.37-3.63-1.2-5.1-2.41-1.48-1.21-2.63-2.77-3.36-4.53-.73-1.77-1.02-3.68-.83-5.59.19-1.9.84-3.73,1.9-5.32,1.06-1.59,2.5-2.89,4.18-3.79,1.69-.9,3.57-1.37,5.48-1.37v1.45ZM15.78,8.74c.19,0,.38.08.51.21.14.14.21.32.21.51v7.56l4.72,2.69c.16.1.28.26.33.44.05.18.02.38-.07.54-.09.16-.25.29-.43.34-.18.05-.38.03-.54-.06l-5.08-2.9c-.11-.06-.2-.16-.27-.27-.06-.11-.1-.24-.1-.36v-7.99c0-.19.08-.38.21-.51.14-.14.32-.21.51-.21Z" />
            </svg>
          </div>
          <p class="text-center">
            <span class="h5">Schedule</span><br>
            <span>{{ job.schedule }}</span>
          </p>
        </div>

        <div class="icon-text-item">
          <div class="icon icon--md text-center">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
              <path
                d="M12.75,18.53c.11,1.43,1.24,2.55,3.27,2.68v1.06h.9v-1.06c2.1-.15,3.33-1.27,3.33-2.9,0-1.48-.94-2.24-2.62-2.64l-.71-.17v-2.88c.9.1,1.47.59,1.61,1.27h1.58c-.11-1.38-1.3-2.46-3.19-2.57v-1.06h-.9v1.08c-1.79.18-3.02,1.25-3.02,2.78,0,1.35.91,2.21,2.42,2.56l.6.15v3.05c-.92-.14-1.53-.65-1.67-1.35h-1.6ZM16.02,15.28c-.89-.21-1.36-.62-1.36-1.25,0-.7.52-1.23,1.37-1.39v2.64h0ZM17.05,17.07c1.08.25,1.57.65,1.57,1.36,0,.81-.62,1.37-1.7,1.47v-2.87l.13.03ZM16.5,26.76c-2.78,0-5.46-1.11-7.42-3.08-1.97-1.97-3.08-4.64-3.08-7.42s1.11-5.46,3.08-7.42c1.97-1.97,4.64-3.08,7.42-3.08s5.46,1.11,7.42,3.08c1.97,1.97,3.08,4.64,3.08,7.42s-1.11,5.46-3.08,7.42-4.64,3.08-7.42,3.08ZM16.5,28.26c3.18,0,6.23-1.26,8.49-3.51,2.25-2.25,3.51-5.3,3.51-8.49s-1.26-6.23-3.51-8.49c-2.25-2.25-5.3-3.51-8.49-3.51s-6.23,1.26-8.49,3.51c-2.25,2.25-3.51,5.3-3.51,8.49s1.26,6.23,3.51,8.49c2.25,2.25,5.3,3.51,8.49,3.51ZM16.5,24.51c-2.19,0-4.29-.87-5.83-2.42-1.55-1.55-2.42-3.65-2.42-5.83s.87-4.29,2.42-5.83c1.55-1.55,3.65-2.42,5.83-2.42s4.29.87,5.83,2.42c1.55,1.55,2.42,3.65,2.42,5.83s-.87,4.29-2.42,5.83-3.65,2.42-5.83,2.42ZM16.5,25.26c1.18,0,2.35-.23,3.44-.69,1.09-.45,2.08-1.12,2.92-1.95s1.5-1.83,1.95-2.92c.45-1.09.69-2.26.69-3.44s-.23-2.35-.69-3.44c-.45-1.09-1.12-2.08-1.95-2.92s-1.83-1.5-2.92-1.95c-1.09-.45-2.26-.69-3.44-.69-2.39,0-4.68.95-6.36,2.64-1.69,1.69-2.64,3.98-2.64,6.36s.95,4.68,2.64,6.36c1.69,1.69,3.98,2.64,6.36,2.64Z" />
            </svg>
          </div>
          <p class="text-center">
            <span class="h5">Salary</span><br>
            <span>{{ job.salary }}</span>
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Job Details -->
  <section class="bg-brand-50">
    <div class="container-sm py-5">
      <div class="">
        <h2>Details</h2>
        {% for detail in job.details %}
        <h3>{{ detail.heading }}</h3>
        <p>{{ detail.content | safe }}</p>
        {% endfor %}
      </div>
  </section>

  <!-- Other Roles -->
  <section class="bg-brand-50">
    <div class="container-sm pb-5 ">
      <h2>Other Roles</h2>
      <div class="d-flex flex-wrap">
        {% for item in jobs %}
        <a href="{% url 'job' item.id %}" class="card p-3 text-decoration-none">
          <div class="d-flex align-items-start">
            <div class="w-100">
              <div class="card__header">
                <h3 class="mb-0 mt-0">{{ item.title }}</h3>
                <p>{{ employer.company }}</p>
                <span class="d-flex align-items-center gap-1">
                  <span class="icon icon--sm">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
                      <path
                        d="M20.77,14.72c.07.07.12.15.16.24s.06.19.06.29-.02.2-.06.29-.09.17-.16.24l-4.49,4.49c-.07.07-.15.12-.24.16-.09.04-.19.06-.29.06s-.2-.02-.29-.06-.17-.09-.24-.16l-2.24-2.24c-.07-.07-.12-.15-.16-.24-.04-.09-.06-.19-.06-.29s.02-.2.06-.29c.04-.09.09-.17.16-.24.14-.14.33-.22.53-.22.1,0,.2.02.29.06.09.04.17.09.24.16l1.71,1.72,3.96-3.96c.07-.07.15-.12.24-.16s.19-.06.29-.06.2.02.29.06.17.09.24.16ZM9.77,4.03c.2,0,.39.08.53.22.14.14.22.33.22.53v.75h11.97v-.75c0-.2.08-.39.22-.53.14-.14.33-.22.53-.22s.39.08.53.22c.14.14.22.33.22.53v.75h1.5c.79,0,1.55.32,2.12.88.56.56.88,1.32.88,2.12v16.45c0,.79-.32,1.55-.88,2.12-.56.56-1.32.88-2.12.88H7.53c-.79,0-1.55-.32-2.12-.88-.56-.56-.88-1.32-.88-2.12V8.52c0-.79.32-1.55.88-2.12.56-.56,1.32-.88,2.12-.88h1.5v-.75c0-.2.08-.39.22-.53.14-.14.33-.22.53-.22ZM6.03,10.02v14.96c0,.4.16.78.44,1.06.28.28.66.44,1.06.44h17.95c.4,0,.78-.16,1.06-.44.28-.28.44-.66.44-1.06v-14.96H6.03Z" />
                    </svg>
                  </span>
                  <span>Job posted: {{ job.created_at|date:"d M Y" }}</span>
                </span>

              </div>
            </div>
          </div>
        </a>
        {% endfor %}
      </div>
    </div>
  </section>
</main>
{% endblock %}